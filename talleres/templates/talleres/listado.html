{% extends 'talleres/base.html' %}
{% block title %}Talleres Disponibles{% endblock %}
{% block content %}

<h2>Talleres Comunitarios Disponibles</h2>

<form method="get">
    <label for="categoria">Filtrar por categoría:</label>
    <select name="categoria" id="categoria" onchange="this.form.submit()">
        <option value="">-- Todas --</option>
        {% for cat in categorias %}
            <option value="{{ cat.id }}" {% if categoria_seleccionada == cat.id %}selected{% endif %}>{{ cat.nombre }}</option>
        {% endfor %}
    </select>
</form>

<ul>
    {% for taller in talleres %}
        <li>
            <h3>{{ taller.titulo }}</h3>
            <p>Fecha: {{ taller.fecha }}</p>
            <p>Duración: {{ taller.duracion_horas }} horas</p>
            <p>Profesor: {{ taller.profesor.nombre_completo }}</p>
            <p>Lugar: {{ taller.lugar.nombre }}</p>
            <p>Categoría: {{ taller.categoria.nombre }}</p>
        </li>
    {% empty %}
        <li>No hay talleres disponibles</li>
    {% endfor %}
</ul>

{% endblock %}
